<template>
  <view class="guide-container">
    <swiper 
      class="guide-swiper" 
      :current="currentIndex"
      @change="onSwiperChange"
      :indicator-dots="false"
      :autoplay="false"
      :circular="false"
    >
      <!-- å¼•å¯¼é¡µ1 -->
      <swiper-item>
        <view class="guide-page" style="background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);">
          <view class="guide-content">
            <view class="guide-icon">ğŸ“š</view>
            <view class="guide-text-section">
              <text class="guide-title">æµ·é‡è¯¾ç¨‹</text>
              <text class="guide-desc">ç²¾é€‰ä¼˜è´¨è¯¾ç¨‹ï¼Œæ»¡è¶³ä½ çš„å­¦ä¹ éœ€æ±‚</text>
            </view>
          </view>
        </view>
      </swiper-item>
      
      <!-- å¼•å¯¼é¡µ2 -->
      <swiper-item>
        <view class="guide-page" style="background: linear-gradient(135deg, #4ECDC4 0%, #7BDDD5 100%);">
          <view class="guide-content">
            <view class="guide-icon">ğŸ‘¨â€ğŸ«</view>
            <view class="guide-text-section">
              <text class="guide-title">åå¸ˆæŒ‡å¯¼</text>
              <text class="guide-desc">è¡Œä¸šä¸“å®¶äº²è‡ªæˆè¯¾ï¼Œè®©å­¦ä¹ æ›´é«˜æ•ˆ</text>
            </view>
          </view>
        </view>
      </swiper-item>
      
      <!-- å¼•å¯¼é¡µ3 -->
      <swiper-item>
        <view class="guide-page" style="background: linear-gradient(135deg, #A8E6CF 0%, #DCEDC1 100%);">
          <view class="guide-content">
            <view class="guide-icon">ğŸ¯</view>
            <view class="guide-text-section">
              <text class="guide-title">ä¸ªæ€§åŒ–å­¦ä¹ </text>
              <text class="guide-desc">æ™ºèƒ½æ¨èï¼Œå®šåˆ¶ä¸“å±å­¦ä¹ è®¡åˆ’</text>
            </view>
          </view>
        </view>
      </swiper-item>
      
      <!-- å¼•å¯¼é¡µ4 -->
      <swiper-item>
        <view class="guide-page" style="background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);">
          <view class="guide-content">
            <view class="guide-icon">ğŸš€</view>
            <view class="guide-text-section">
              <text class="guide-title">å¼€å¯å­¦ä¹ ä¹‹æ—…</text>
              <text class="guide-desc">ç«‹å³åŠ å…¥ï¼Œå¼€å¯ä½ çš„è¿›é˜¶ä¹‹è·¯</text>
              <view class="start-button" @click="goToLogin">
                <text class="start-button-text">ç«‹å³ä½“éªŒ</text>
              </view>
            </view>
          </view>
        </view>
      </swiper-item>
    </swiper>
    
    <!-- æŒ‡ç¤ºå™¨ -->
    <view class="indicator-container">
      <view 
        v-for="(item, index) in 4" 
        :key="index"
        :class="['indicator-dot', { 'indicator-active': currentIndex === index }]"
      ></view>
    </view>
    
    <!-- è·³è¿‡æŒ‰é’® -->
    <view v-if="currentIndex < 3" class="skip-button" @click="goToLogin">
      <text class="skip-text">è·³è¿‡</text>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const currentIndex = ref(0)

// æ»‘åŠ¨åˆ‡æ¢
const onSwiperChange = (e: any) => {
  currentIndex.value = e.detail.current
}

// è¿›å…¥ç™»å½•é¡µ
const goToLogin = () => {
  uni.redirectTo({
    url: '/pages/login/index'
  })
}
</script>

<style scoped>
.guide-container {
  width: 100vw;
  height: 100vh;
  position: relative;
}

.guide-swiper {
  width: 100%;
  height: 100%;
}

.guide-page {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40rpx;
  box-sizing: border-box;
}

.guide-content {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  text-align: left;
  gap: 60rpx;
}

.guide-icon {
  font-size: 100rpx;
  flex-shrink: 0;
}

.guide-text-section {
  display: flex;
  flex-direction: column;
}

.guide-title {
  font-size: 32rpx;
  font-weight: bold;
  color: #ffffff;
  margin-bottom: 12rpx;
}

.guide-desc {
  font-size: 22rpx;
  color: rgba(255, 255, 255, 0.9);
  max-width: 500rpx;
  line-height: 1.5;
}

.start-button {
  margin-top: 24rpx;
  margin-left: 0;
  background-color: #ffffff;
  border-radius: 40rpx;
  padding: 16rpx 60rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.15);
}

.start-button-text {
  font-size: 24rpx;
  font-weight: bold;
  color: #007AFF;
}

.indicator-container {
  position: absolute;
  bottom: 32rpx;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 16rpx;
}

.indicator-dot {
  width: 12rpx;
  height: 12rpx;
  border-radius: 6rpx;
  background-color: rgba(255, 255, 255, 0.4);
  transition: all 0.3s ease;
}

.indicator-active {
  width: 32rpx;
  background-color: #ffffff;
}

.skip-button {
  position: absolute;
  top: 24rpx;
  right: 32rpx;
  background-color: rgba(0, 0, 0, 0.3);
  border-radius: 24rpx;
  padding: 8rpx 20rpx;
}

.skip-text {
  font-size: 20rpx;
  color: #ffffff;
}
</style>
